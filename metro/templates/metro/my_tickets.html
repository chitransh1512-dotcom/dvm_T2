{% extends "metro/base.html" %}

{% block content %}
<h2>My Tickets</h2>

{% if tickets %}
    <ul style="list-style:none; padding:0;">
        {% for t in tickets %}
            <li style="border:1px solid #ccc; padding:12px; margin-bottom:12px;">
                <strong>Ticket Code:</strong> {{ t.ticket_code }}<br>

                <strong>From:</strong> {{ t.from_station.name }}<br>
                <strong>To:</strong> {{ t.to_station.name }}<br>

                <strong>Price:</strong> â‚¹{{ t.price }}<br>

                <strong>Status:</strong>
                {% if t.status == "ACTIVE" %}
                    <span style="color:green;">Active</span>
                {% elif t.status == "INUSE" %}
                    <span style="color:orange;">In Use</span>
                {% elif t.status == "USED" %}
                    <span style="color:gray;">Used</span>
                {% else %}
                    <span style="color:red;">Expired</span>
                {% endif %}
                <br>

                <strong>Purchased:</strong>
                {{ t.created_at|date:"d M Y H:i" }}<br>

                {% if t.status == "ACTIVE" %}
                    <strong>Expires:</strong>
                    {{ t.created_at|date:"d M Y H:i" }} + 24 hours
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>You have no tickets.</p>
{% endif %}

{% endblock %}

